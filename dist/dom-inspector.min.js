/*
 * DomInspector v1.0.0
 * (c) 2017 luoye <luoyefe@gmail.com>
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.DomInspector=t()}(this,function(){"use strict";function e(e,t){var o=e;return Object.keys(t).forEach(function(e){({}).hasOwnProperty.call(t,e)&&(o[e]=t[e])}),o}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=void 0,n=void 0,r=Date.now();return function(){function i(){r=Date.now(),o=null,e.apply(s,d)}for(var a=arguments.length,d=Array(a),l=0;l<a;l++)d[l]=arguments[l];var s=this;clearTimeout(o),n=Date.now()-r,n>t?i():o=setTimeout(i,t-n)}}function o(e){return document.documentElement.querySelector(e)}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return e instanceof HTMLElement}catch(t){return"object"===(void 0===e?"undefined":a(e))&&1===e.nodeType&&"object"===a(e.style)&&"object"===a(e.ownerDocument)}}function r(e){for(var t=getComputedStyle(e),o=e.getBoundingClientRect().left-parseFloat(t["margin-left"]),n=e.getBoundingClientRect().top-parseFloat(t["margin-top"]),r=e.parent;r;)t=getComputedStyle(r),o+=r.frameElement.getBoundingClientRect().left-parseFloat(t["margin-left"]),n+=r.frameElement.getBoundingClientRect().top-parseFloat(t["margin-top"]),r=r.parent;return{top:n,left:o}}function i(t){var o={},n=["border-top-width","border-right-width","border-bottom-width","border-left-width","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","z-index"],i=getComputedStyle(t);return n.forEach(function(e){o[e]=parseFloat(i[e])||0}),e(o,{width:t.offsetWidth-o["border-left-width"]-o["border-right-width"]-o["padding-left"]-o["padding-right"],height:t.offsetHeight-o["border-top-width"]-o["border-bottom-width"]-o["padding-top"]-o["padding-bottom"]}),e(o,r(t)),o}!function(e,t){if("undefined"==typeof document)return t;e=e||"";var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),o.appendChild(n)}(".dom-inspector {\n    position: fixed;\n    border-style: solid;\n    pointer-events: none;\n}\n\n.dom-inspector:before {\n\tcontent: '';\n\tposition: absolute;\n\tz-index: -1;\n\tdisplay: block;\n}\n\n.dom-inspector:after {\n\tcontent: '';\n\tposition: absolute;\n\tz-index: -1;\n\tdisplay: block;\n}\n\n.dom-inspector-theme-default {\n    background-color: rgba(160, 210, 255, 0.75);\n    border-color: #ffeebc;\n}\n\n/* imitate margin */\n.dom-inspector-theme-default:before {\n\tbackground-color: #f9cc9d;\n}\n\n/* imitate padding */\n.dom-inspector-theme-default:after {\n\tbackground-color: #c4dfb8;\n}\n",void 0);var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s={log:console.log,warn:console.warn,error:console.error};return function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e),this._doc=window.document,this.root=r.root?n(r.root)?r.root:o(r.root):o("body"),this.theme=r.theme||"dom-inspector-theme-default",this.overlay="",this.overlayId="",this._throttleOnMove=t(this._onMove.bind(this),100),this.destroyed=!1,this._init()}return l(e,[{key:"enable",value:function(){if(this.destroyed)return s.warn("Inspector instance has been destroyed! Please redeclare it.");this.overlay.style.display="block",this.root.addEventListener("mousemove",this._throttleOnMove)}},{key:"disable",value:function(){this.overlay.style.display="none",this.overlay.style.width=0,this.overlay.style.height=0,this.root.removeEventListener("mousemove",this._throttleOnMove)}},{key:"destroy",value:function(){this.destroyed=!0,this.disable(),this.overlay.remove()}},{key:"getXPath",value:function(e){}},{key:"getCssPath",value:function(e){}},{key:"getSelector",value:function(e){}},{key:"_init",value:function(){this.overlayId="dom-inspector-"+Date.now(),this.overlay=this._createElement("div",{id:this.overlayId,class:"dom-inspector "+this.theme}),o("body").appendChild(this.overlay)}},{key:"_createElement",value:function(e,t){var o=this._doc.createElement(e);return Object.keys(t).forEach(function(e){o.setAttribute(e,t[e])}),o}},{key:"_onMove",value:function(e){var t=this;this.target=e.target;var o=i(e.target);Object.keys(o).forEach(function(e){if("z-index"===e&&t.overlay.style["z-index"]<=o[e])return t.overlay.style[e]=o[e]+1;t.overlay.style[e]=o[e]+"px"})}}]),e}()});